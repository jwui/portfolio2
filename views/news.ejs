<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WHAT'S NEW</title>
    <link href="/css/styles.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dongle:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.3.2/countUp.umd.min.js"
      integrity="sha512-Be9XaN4NvN8CVmbk4juf7JX2/87a7I37CX1WV37w+jyav4exBHDqHzmjs+Tbx7Dt2j9vpULDZNxcP0sZP03/WQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/hamburgers/1.2.1/hamburgers.min.css"
      integrity="sha512-+mlclc5Q/eHs49oIOCxnnENudJWuNqX5AogCiqRBgKnpoplPzETg2fkgBFVC6WYUVxYYljuxPNG8RE7yBy1K+g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
      }depth2
      img {
        vertical-align: middle;
      }
      .cont1 {
        padding: 100px 0;
        display: flex;
        justify-content: center;
      }
      .ca_wrap {
        width: 80%;
        position: relative;
        overflow: hidden;
      }
      .ca_wrap h2 {
        color: #ff6d0d;
        margin: 60px;
        font-size: 48px;
      }
      .ca_wrap h2::after {
        content: "";
        background-color: #ff6d0d;
        height: 2px;
        width: 100%;
        display: block;
      }
      .ca_move {
        width: 200%;
        display: flex;
      }
      .ca_move .ca_child {
        width: 12.5%;
        box-sizing: border-box;
        padding: 0 1%;
      }
      .ca_move .ca_child img {
        width: 100%;
        height: 400px;
        border-radius: 30px;
        overflow: hidden;
        transition: all 0.3s;
        opacity: 0.8;
        object-fit: cover;
      }
      .ca_move .ca_child img:hover {
        scale: 1.05;
        opacity: 1;
      }
      .ca_prev {
        position: absolute;
        bottom: 50%;
        left: 60px;
        transform: translateY(50%);
        color: #ff6d0d;
        font-size: 48px;
      }

      .ca_next {
        position: absolute;
        bottom: 50%;
        right: 60px;
        transform: translateY(50%);
        color: #ff6d0d;
        font-size: 48px;
      }
      .ca_child {
        color: #ff6d0d;
        text-align: center;
        font-weight: bold;
      }
      .ca_child p {
        margin: 40px 0;
        line-height: 1.5;
      }

      @media screen and (max-width: 1600px) {
        .ca_wrap {
          width: 80%;
        }
        .ca_move {
          width: 266.666666%;
        }
      }

      @media screen and (max-width: 1024px) {
        .ca_wrap {
          width: 90%;
        }
        .ca_move {
          width: 400%;
        }
      }
      @media screen and (max-width: 768px) {
        .ca_wrap {
          width: 70%;
        }
        .ca_move {
          width: 800%;
        }
      }
    </style>
  </head>
  <body>
    <%- include("common/header.ejs") %>
    <div id="container">
      <div class="cont1">
        <!--캐러셀 보여줄 영역(overflow:hidden)-->
        <div class="ca_wrap">
          <h2>WHAT'S NEW</h2>
          <!--캐러셀 움직이는 기차역할!-->
          <div class="ca_move">
            <div class="ca_child">
              <img src="/img/img01.jpg" />
              <p>SPC 던킨, '던킨데이 123 챌린지' 실시</p>
            </div>
            <div class="ca_child">
              <img src="/img/img02.jpg" />
              <p>던킨, '뉴던킨 프로젝트' 품질향상 위한 생산체계 개편</p>
            </div>
            <div class="ca_child">
              <img src="/img/img03.jpg" />
              <p>던킨, 배달 서비스 강화... 안심하고 간편하게!</p>
            </div>
            <div class="ca_child">
              <img src="/img/img04.jpg" />
              <p>SPC 던킨, 가을에 어울리는 향긋한 '화이트 뱅쇼' 출시</p>
            </div>
            <div class="ca_child">
              <img src="/img/img05.jpg" />
              <p>매월 1,2,3일 해피앱에서 던킨을 만나보세요!</p>
            </div>
            <div class="ca_child">
              <img src="/img/img06.jpg" />
              <p>SPC 던킨, 스머커스 잼 활용한 11월 이달의 도넛 출시</p>
            </div>
            <div class="ca_child">
              <img src="/img/img07.jpg" />
              <p>코끝 시린 겨울, 새로워진 던킨 에스프레소를 만나보세요!</p>
            </div>
            <div class="ca_child">
              <img src="/img/img08.jpg" />
              <p>SPC 던킨, '토이 필름카메라' 굿즈 출시</p>
            </div>
          </div>
          <div class="ca_prev"><i class="fa-solid fa-chevron-left"></i></div>
          <div class="ca_next"><i class="fa-solid fa-chevron-right"></i></div>
        </div>
      </div>
    </div>
    <%- include("common/footer.ejs") %>
    <script>
      let hamMenu = document.querySelector(".hamburger");
      let mobileMenu = document.querySelector("#header .header-mobileMenu");
      hamMenu.addEventListener("click", () => {
        hamMenu.classList.toggle("is-active");
        if (!hamMenu.classList.contains("is-active")) {
          mobileMenu.style.right = "-320px";
        } else {
          mobileMenu.style.right = "0px";
        }
      });

      let clickBtn = document.querySelectorAll(
        "#header .header-mobileMenu .navMenu .menuList ul .menu"
      );
      let depth2 = document.querySelectorAll(
        "#header .header-mobileMenu .navMenu .menuList ul li .depth2"
      );
      clickBtn.forEach((item, index) => {
        item.addEventListener("click", () => {
          depth2.forEach((item, index) => {
            item.classList.remove("on");
          });
          depth2[index].classList.add("on");
        });
      });
    </script>
    <script>
      //캐러셀 움직이는 대상 및 순성변경될때 감싸는 부모역할
      const ca_move = document.querySelector(".ca_move");
      const prevBtn = document.querySelector(".ca_prev");
      const nextBtn = document.querySelector(".ca_next");

      //화면사이즈에 따라 marginLeft값 / 원위치되는 수치값 변경
      let prevChangeMargin;
      let setMargin;

      let browserSizeCheck = () => {
        if (window.matchMedia("screen and (min-width: 1601px)").matches) {
          prevChangeMargin = "-50%"; // 이전버튼 클릭시 이동되는 거리값
          setMargin = "-25%"; // 이동후 원위치되는 수치값
        } else if (
          window.matchMedia(
            "screen and (max-width: 1600px) and (min-width: 1025px)"
          ).matches
        ) {
          prevChangeMargin = "-66.66666%";
          setMargin = "-33.333333%";
        } else if (
          window.matchMedia(
            "screen and (max-width: 1024px) and (min-width: 769px)"
          ).matches
        ) {
          prevChangeMargin = "-100%";
          setMargin = "-50%";
        } else if (window.matchMedia("screen and (max-width: 768px").matches) {
          prevChangeMargin = "-200%";
          setMargin = "-100%";
        }
        ca_move.style.marginLeft = setMargin;
      };
      window.addEventListener("resize", () => {
        browserSizeCheck(); //웹브라우저 창 크기 조절시 조건문 체크
        //prevChangeMargin / setMargin 값이 변경처리
      });
      window.addEventListener("load", () => {
        browserSizeCheck(); //웹브라우저 화면 로딩후 조건문 체크
        //prevChangeMargin / setMargin 값이 변경처리
      });

      //prev 클릭시 캐러셀 이동후 순서 교체후 원위치 시키는 작업까지
      prevBtn.addEventListener("click", () => {
        ca_move.style.transition = "all 0.5s";
        ca_move.style.marginLeft = prevChangeMargin;
        // prevBtn.style.display = "none";
        // nextBtn.style.display = "none";
        //이전버튼 클릭시 첫번째 자식요소 선택!
        let fChild = ca_move.firstElementChild;
        setTimeout(() => {
          //첫번째 자식요소를 마지막번째로 보내줌
          ca_move.append(fChild);
          //태그 순서 교체후 원위치
          ca_move.style.marginLeft = setMargin;
          ca_move.style.transition = "none";
          //   prevBtn.style.display = "block";
          //   nextBtn.style.display = "block";
        }, 500);
      });
      //next 클릭시 캐러셀 이동후 순서 교체후 원위치 시키는 작업까지
      nextBtn.addEventListener("click", () => {
        ca_move.style.transition = "all 0.5s";
        ca_move.style.marginLeft = "0%";
        // prevBtn.style.display = "none";
        // nextBtn.style.display = "none";
        //이전버튼 클릭시 첫번째 자식요소 선택!
        let lChild = ca_move.lastElementChild;
        setTimeout(() => {
          //마지막번째 자식요소를 첫번째로 보내줌
          ca_move.prepend(lChild);
          //태그 순서 교체후 원위치
          ca_move.style.marginLeft = setMargin;
          ca_move.style.transition = "none";
          //   prevBtn.style.display = "block";
          //   nextBtn.style.display = "block";
        }, 500);
      });
    </script>
  </body>
</html>
